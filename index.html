<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Youtube Link Opener</title>
  </head>
  <body
    style="
      font-weight: 700;
      font-family: monospace;
      font-size: 30px;
      width: 100%;
      height: 80vh;
    "
  >
    <input
      id="youtubeUrl"
      type="text"
      placeholder="Paste your youtube link URL..."
      style="padding: 10px"
    />
    <button
      type="button"
      style="padding: 10px; cursor: pointer"
      onclick="generateLink()"
    >
      Generate
    </button>
    <br />
    <br />
    <br />
    <b>Link Generated:</b>
    <p style="text-decoration: dashed; cursor: pointer" id="generatedLink"></p>
    <script>
      function generateLink() {
        const baseUrl = "https://youngnishant.github.io/open-link-in-app";
        let url = document.getElementById("youtubeUrl").value;
        let videoCode = "";
        if (url.includes("youtu.be")) {
          arr = url.split("/");
          videoCode = arr[arr.length - 1];
          console.log(videoCode);
        } else {
          videoCode = url.split("v=")[1].substring(0, 11);
        }
        var parElement = document.getElementById("generatedLink");
        var textToAdd = document.createTextNode(
          `${baseUrl}/watch.html?v=${videoCode}`
        );
        parElement.appendChild(textToAdd);
      }
    </script>
  </body>
</html>
